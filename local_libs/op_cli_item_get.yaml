version: v1
type: CommandLineInterface
params:
  required:
    identifier:
      desc: The one password identifier
      type: string
    label:
      desc: The one password label
      type: string
    vault:
      desc: The one password vault
      type: string
spec:
  # what is this?Â 
  #environment:
  #  kind: docker
  #  repo:
  #test:
  #  - command:
  cmds:
    - command: op
      args:
        {{- with .Vars }}
        {{- with .identifier }}
        - item get "{{ . }}"
        {{- end }}
        {{- with .label }}
        - --fields label={{ . }}
        {{- end }}
        {{- with .vault }}
        - --vault {{ . }}
        {{- end }}
        {{- end }}
