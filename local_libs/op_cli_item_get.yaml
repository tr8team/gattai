version: v1
type: CommandLineInterface
params:
  identifier:
    desc: The one password identifier
    requied: true
    type: string
  label:
    desc:
    requied: true
    type: string
  vault:
    desc:
    requied: true
    type: string
spec:
  # what is this?Â 
  #environment:
  #  kind: docker
  #  repo:
  #test:
  #  - command:
  cmds:
    - command: op
      args:
        {{- with .Vars }}
        {{- with .identifier }}
        - item get "{{ . }}"
        {{- end }}
        {{- with .label }}
        - --fields label={{ . }}
        {{- end }}
        {{- with .vault }}
        - --vault {{ . }}
        {{- end }}
        {{- end }}
